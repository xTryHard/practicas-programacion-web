/*
 * This Java source file was generated by the Gradle 'init' task.
 */
// Done
package edu.pucmm.eict;

import java.math.BigDecimal;

import edu.pucmm.eict.controllers.AdminController;
import edu.pucmm.eict.controllers.GeneralControllers;
import edu.pucmm.eict.encapsulation.Product;
import edu.pucmm.eict.services.ShoppingCartServices;
import io.javalin.Javalin;
import io.javalin.plugin.rendering.JavalinRenderer;
import io.javalin.plugin.rendering.template.JavalinThymeleaf;

public class App {

    public static void main(String[] args) {
        Javalin app = Javalin.create(config -> {
            config.addStaticFiles("/public");
        }).start(3000);
        
        JavalinRenderer.register(JavalinThymeleaf.INSTANCE, ".html");
        ShoppingCartServices.getInstance().createProduct(new Product("Monitor DELL", new BigDecimal(8000)));
        ShoppingCartServices.getInstance().createProduct(new Product("4GB RAM DDR4", new BigDecimal(4000)));

        new AdminController(app).applyRoutes();
        new GeneralControllers(app).applyRoutes();
    }
}
